{"shared": {"description": "get value of the shared variable", "editable": false, "group": "Macro functions: general", "name": "shared", "type": "built-in", "src": null, "var_in": [{"description": "variable name", "var": "name"}], "var_out": []}, "set_shared": {"description": "set value of the shared variable", "editable": false, "group": "Macro functions: general", "name": "set_shared", "type": "built-in", "src": null, "var_in": [{"description": "variable name", "var": "name"}], "var_out": []}, "increment_shared": {"description": "increment value of the shared variable", "editable": false, "group": "Macro functions: general", "name": "increment_shared", "type": "built-in", "src": null, "var_in": [{"description": "variable name", "var": "name"}], "var_out": []}, "decrement_shared": {"description": "decrement value of the shared variable", "editable": false, "group": "Macro functions: general", "name": "decrement_shared", "type": "built-in", "src": null, "var_in": [{"description": "variable name", "var": "name"}], "var_out": []}, "mail": {"description": "send email message", "editable": false, "group": "Macro functions: general", "name": "mail", "type": "built-in", "src": null, "var_in": [], "var_out": []}, "debug": {"description": "put debug message to log file", "editable": false, "group": "Macro functions: log", "name": "debug", "type": "built-in", "src": null, "var_in": [{"description": "message text", "var": "m"}], "var_out": []}, "info": {"description": "put info message to log file", "editable": false, "group": "Macro functions: log", "name": "info", "type": "built-in", "src": null, "var_in": [{"description": "message text", "var": "m"}], "var_out": []}, "warning": {"description": "put warning message to log file", "editable": false, "group": "Macro functions: log", "name": "warning", "type": "built-in", "src": null, "var_in": [{"description": "message text", "var": "m"}], "var_out": []}, "error": {"description": "put error message to log file", "editable": false, "group": "Macro functions: log", "name": "error", "type": "built-in", "src": null, "var_in": [{"description": "message text", "var": "m"}], "var_out": []}, "critical": {"description": "put critical message to log file", "editable": false, "group": "Macro functions: log", "name": "critical", "type": "built-in", "src": null, "var_in": [{"description": "message text", "var": "m"}], "var_out": []}, "exit": {"description": "finish macro execution", "editable": false, "group": "Macro functions: general", "name": "exit", "type": "built-in", "src": null, "var_in": [{"description": "macro exit code (default: 0, no errors)", "var": "code"}], "var_out": []}, "lock": {"description": "acquire lock", "editable": false, "group": "Macro functions: lock", "name": "lock", "type": "built-in", "src": null, "var_in": [{"description": "lock id", "var": "l"}], "var_out": []}, "unlock": {"description": "release lock", "editable": false, "group": "Macro functions: lock", "name": "unlock", "type": "built-in", "src": null, "var_in": [{"description": "lock id", "var": "l"}], "var_out": []}, "lvar_status": {"description": "get lvar status", "editable": false, "group": "Macro functions: item", "name": "lvar_status", "type": "built-in", "src": null, "var_in": [{"description": "lvar id", "var": "lvar_id"}], "var_out": []}, "lvar_value": {"description": "get lvar value", "editable": false, "group": "Macro functions: item", "name": "lvar_value", "type": "built-in", "src": null, "var_in": [{"description": "lvar id", "var": "lvar_id"}], "var_out": []}, "is_expired": {"description": "is lvar (timer) expired", "editable": false, "group": "Macro functions: lvar", "name": "is_expired", "type": "built-in", "src": null, "var_in": [{"description": "lvar id", "var": "lvar_id"}], "var_out": []}, "unit_status": {"description": "get unit status", "editable": false, "group": "Macro functions: item", "name": "unit_status", "type": "built-in", "src": null, "var_in": [{"description": "unit id", "var": "unit_id"}], "var_out": []}, "unit_value": {"description": "get unit value", "editable": false, "group": "Macro functions: item", "name": "unit_value", "type": "built-in", "src": null, "var_in": [{"description": "unit id", "var": "unit_id"}], "var_out": []}, "unit_nstatus": {"description": "get unit nstatus", "editable": false, "group": "Macro functions: item", "name": "unit_nstatus", "type": "built-in", "src": null, "var_in": [{"description": "unit id", "var": "unit_id"}], "var_out": []}, "unit_nvalue": {"description": "get unit nvalue", "editable": false, "group": "Macro functions: item", "name": "unit_nvalue", "type": "built-in", "src": null, "var_in": [{"description": "unit id", "var": "unit_id"}], "var_out": []}, "is_busy": {"description": "is unit busy", "editable": false, "group": "Macro functions: unit", "name": "is_busy", "type": "built-in", "src": null, "var_in": [{"description": "unit id", "var": "unit_id"}], "var_out": []}, "sensor_status": {"description": "get sensor status", "editable": false, "group": "Macro functions: item", "name": "sensor_status", "type": "built-in", "src": null, "var_in": [{"description": "sensor id", "var": "sensor_id"}], "var_out": []}, "sensor_value": {"description": "get sensor value", "editable": false, "group": "Macro functions: item", "name": "sensor_value", "type": "built-in", "src": null, "var_in": [{"description": "sensor id", "var": "sensor_id"}], "var_out": []}, "set": {"description": "set lvar value", "editable": false, "group": "Macro functions: lvar", "name": "set", "type": "built-in", "src": null, "var_in": [{"description": "lvar id", "var": "lvar_id"}], "var_out": []}, "status": {"description": "get item status", "editable": false, "group": "Macro functions: item", "name": "status", "type": "built-in", "src": null, "var_in": [{"description": "item id (oid required)", "var": "item_id"}], "var_out": []}, "value": {"description": "get item value", "editable": false, "group": "Macro functions: item", "name": "value", "type": "built-in", "src": null, "var_in": [{"description": "item id (oid required)", "var": "item_id"}], "var_out": []}, "reset": {"description": "reset lvar value", "editable": false, "group": "Macro functions: lvar", "name": "reset", "type": "built-in", "src": null, "var_in": [{"description": "lvar id", "var": "lvar_id"}], "var_out": []}, "clear": {"description": "reset lvar value", "editable": false, "group": "Macro functions: lvar", "name": "clear", "type": "built-in", "src": null, "var_in": [{"description": "lvar id", "var": "lvar_id"}], "var_out": []}, "toggle": {"description": "toggle lvar value", "editable": false, "group": "Macro functions: lvar", "name": "toggle", "type": "built-in", "src": null, "var_in": [{"description": "lvar id", "var": "lvar_id"}], "var_out": []}, "increment": {"description": "increment lvar value", "editable": false, "group": "Macro functions: lvar", "name": "increment", "type": "built-in", "src": null, "var_in": [{"description": "lvar id", "var": "lvar_id"}], "var_out": []}, "decrement": {"description": "decrement lvar value", "editable": false, "group": "Macro functions: lvar", "name": "decrement", "type": "built-in", "src": null, "var_in": [{"description": "lvar id", "var": "lvar_id"}], "var_out": []}, "expires": {"description": "set lvar expiration time", "editable": false, "group": "Macro functions: lvar", "name": "expires", "type": "built-in", "src": null, "var_in": [{"description": "lvar id", "var": "lvar_id"}], "var_out": []}, "action": {"description": "unit control action", "editable": false, "group": "Macro functions: unit", "name": "action", "type": "built-in", "src": null, "var_in": [{"description": "unit id", "var": "unit_id"}, {"description": "desired unit status", "var": "status"}], "var_out": [{"description": "Exit code", "var": "exitcode"}, {"description": "Action status", "var": "status"}]}, "action_toggle": {"description": "toggle unit status", "editable": false, "group": "Macro functions: unit", "name": "action_toggle", "type": "built-in", "src": null, "var_in": [{"description": "unit id", "var": "unit_id"}], "var_out": [{"description": "Exit code", "var": "exitcode"}, {"description": "Action status", "var": "status"}]}, "result": {"description": "get action status", "editable": false, "group": "Macro functions: unit", "name": "result", "type": "built-in", "src": null, "var_in": [{"description": "unit id or", "var": "unit_id"}, {"description": "action uuid", "var": "uuid"}], "var_out": [{"description": "Exit code", "var": "exitcode"}, {"description": "Action status", "var": "status"}]}, "start": {"description": "start unit", "editable": false, "group": "Macro functions: unit", "name": "start", "type": "built-in", "src": null, "var_in": [{"description": "unit id", "var": "unit_id"}], "var_out": [{"description": "Exit code", "var": "exitcode"}, {"description": "Action status", "var": "status"}]}, "stop": {"description": "stop unit", "editable": false, "group": "Macro functions: unit", "name": "stop", "type": "built-in", "src": null, "var_in": [{"description": "unit id", "var": "unit_id"}], "var_out": [{"description": "Exit code", "var": "exitcode"}, {"description": "Action status", "var": "status"}]}, "terminate": {"description": "terminate action execution", "editable": false, "group": "Macro functions: unit", "name": "terminate", "type": "built-in", "src": null, "var_in": [{"description": "action uuid or", "var": "unit_id"}, {"description": "unit id", "var": "uuid"}], "var_out": []}, "q_clean": {"description": "clean action queue of unit", "editable": false, "group": "Macro functions: unit", "name": "q_clean", "type": "built-in", "src": null, "var_in": [{"description": "unit id", "var": "unit_id"}], "var_out": []}, "kill": {"description": "kill unit actions", "editable": false, "group": "Macro functions: unit", "name": "kill", "type": "built-in", "src": null, "var_in": [{"description": "unit id", "var": "unit_id"}], "var_out": []}, "run": {"description": "execute another macro", "editable": false, "group": "Macro functions: general", "name": "run", "type": "built-in", "src": null, "var_in": [{"description": "macro id", "var": "macro"}], "var_out": [{"description": "Exit code", "var": "exitcode"}, {"description": "Action status", "var": "status"}, {"description": "Macro \"out\" variable", "var": "out"}]}, "cmd": {"description": "execute a remote system command", "editable": false, "group": "Macro functions: general", "name": "cmd", "type": "built-in", "src": null, "var_in": [{"description": "controller id to execute command on", "var": "controller_id"}, {"description": "name of the command script", "var": "command"}], "var_out": [{"description": "Exit code", "var": "exitcode"}, {"description": "Action status", "var": "status"}]}, "history": {"description": "get lvar state history", "editable": false, "group": "Macro functions: item", "name": "history", "type": "built-in", "src": null, "var_in": [{"description": "lvar ID, or multiple IDs (list or comma separated)", "var": "lvar_id"}], "var_out": []}, "system": {"description": "execute the command in a subshell", "editable": false, "group": "Macro functions: general", "name": "system", "type": "built-in", "src": null, "var_in": [], "var_out": []}, "time": {"description": "current time in seconds since Epoch", "editable": false, "group": "Macro functions: general", "name": "time", "type": "built-in", "src": null, "var_in": [], "var_out": []}, "ls": {"description": "list files in directory", "editable": false, "group": "Macro functions: general", "name": "ls", "type": "built-in", "src": null, "var_in": [{"description": "path and mask (e.g. /opt/data/\\*.jpg)", "var": "mask"}, {"description": "if True, perform a recursive search", "var": "recursive"}], "var_out": []}, "open_oldest": {"description": "open oldest file by mask", "editable": false, "group": "Macro functions: general", "name": "open_oldest", "type": "built-in", "src": null, "var_in": [{"description": "path and mask (e.g. /opt/data/\\*.jpg)", "var": "mask"}], "var_out": []}, "open_newest": {"description": "open newest file by mask", "editable": false, "group": "Macro functions: general", "name": "open_newest", "type": "built-in", "src": null, "var_in": [{"description": "path and mask (e.g. /opt/data/\\*.jpg)", "var": "mask"}], "var_out": []}, "deploy_device": {"description": "deploy device items from template", "editable": false, "group": "Macro functions: device", "name": "deploy_device", "type": "built-in", "src": null, "var_in": [{"description": "controller id to deploy device on", "var": "controller_id"}, {"description": "device template (*runtime/tpl/<TEMPLATE>.yml|yaml|json*, without extension)", "var": "device_tpl"}], "var_out": []}, "update_device": {"description": "update device items config from template", "editable": false, "group": "Macro functions: device", "name": "update_device", "type": "built-in", "src": null, "var_in": [{"description": "controller id to deploy device on", "var": "controller_id"}, {"description": "device template (*runtime/tpl/<TEMPLATE>.yml|yaml|json*, without extension)", "var": "device_tpl"}], "var_out": []}, "undeploy_device": {"description": "undeploy device items config from template", "editable": false, "group": "Macro functions: device", "name": "undeploy_device", "type": "built-in", "src": null, "var_in": [{"description": "controller id to deploy device on", "var": "controller_id"}, {"description": "device template (*runtime/tpl/<TEMPLATE>.yml|yaml|json*, without extension)", "var": "device_tpl"}], "var_out": []}, "set_rule_prop": {"description": "set rule prop", "editable": false, "group": "Macro functions: rule", "name": "set_rule_prop", "type": "built-in", "src": null, "var_in": [{"description": "rule id (uuid)", "var": "rule_id"}, {"description": "property to set", "var": "prop"}, {"description": "value to set", "var": "value"}], "var_out": []}, "start_cycle": {"description": "start cycle", "editable": false, "group": "Macro functions: cycle", "name": "start_cycle", "type": "built-in", "src": null, "var_in": [{"description": "cycle id", "var": "cycle_id"}], "var_out": []}, "stop_cycle": {"description": "stop cycle", "editable": false, "group": "Macro functions: cycle", "name": "stop_cycle", "type": "built-in", "src": null, "var_in": [{"description": "cycle id", "var": "cycle_id"}], "var_out": []}, "reset_cycle_stats": {"description": "reset cycle stats", "editable": false, "group": "Macro functions: cycle", "name": "reset_cycle_stats", "type": "built-in", "src": null, "var_in": [{"description": "cycle id", "var": "cycle_id"}], "var_out": []}, "list_cycle_props": {"description": "list cycle props", "editable": false, "group": "Macro functions: cycle", "name": "list_cycle_props", "type": "built-in", "src": null, "var_in": [{"description": "cycle id", "var": "cycle_id"}], "var_out": []}, "set_cycle_prop": {"description": "set cycle prop", "editable": false, "group": "Macro functions: cycle", "name": "set_cycle_prop", "type": "built-in", "src": null, "var_in": [{"description": "cycle id", "var": "cycle_id"}, {"description": "property to set", "var": "prop"}, {"description": "value to set", "var": "value"}], "var_out": []}, "get_cycle_info": {"description": "get cycle information", "editable": false, "group": "Macro functions: cycle", "name": "get_cycle_info", "type": "built-in", "src": null, "var_in": [{"description": "cycle id", "var": "cycle_id"}], "var_out": []}, "is_cycle_running": {"description": "get cycle running status", "editable": false, "group": "Macro functions: cycle", "name": "is_cycle_running", "type": "built-in", "src": null, "var_in": [{"description": "cycle id", "var": "cycle_id"}], "var_out": []}, "alias": {"description": "create object alias", "editable": false, "group": "Macro functions: general", "name": "alias", "type": "built-in", "src": null, "var_in": [{"description": "alias object", "var": "alias_obj"}, {"description": "source object", "var": "src_obj"}], "var_out": []}, "sleep": {"description": "pause operations", "editable": false, "group": "Macro functions: general", "name": "sleep", "type": "built-in", "src": null, "var_in": [{"description": "number of seconds to sleep", "var": "t"}, {"description": "break on shutdown event (default is True)", "var": "safe"}], "var_out": []}}